# 控制布局操作

::: info 该文档编写者
墨北MovTery - 2025/11/4
:::

## 操作状态

控制布局拥有以下三种状态（仅供理解，实际代码并非以此方式实现）：  
- 实体鼠标操作  
- 游戏手柄操作  
- 无（及触摸操作）  

控制布局会根据当前状态显示或隐藏控件层。  
您可以利用状态变化，为键鼠操作和游戏手柄操作提供不同的按键逻辑。

### 具体操作

启动器会根据您的操作类型动态调整控制布局的状态，从而在不同状态下切换控件层的可见性。

- **触摸操作**  
  当您使用手指触摸或滑动鼠标层，控制虚拟鼠标时，启动器会将其识别为触摸操作。在实现层面，这一状态不会被明确标注，但概念上仍用于判断。触摸操作的主要作用是让控制布局退出以下状态：  
  - 实体鼠标操作  
  - 游戏手柄操作  

- **实体鼠标操作**  
  当您滑动实体鼠标时，启动器会将其标记为实体鼠标操作。此标记用于触发控制布局切换到 `实体鼠标操作` 状态。  

- **游戏手柄操作**  
  当您使用手柄进行任何操作时，启动器会将其标记为游戏手柄操作。此标记用于触发控制布局切换到 `游戏手柄操作` 状态。

## 游戏状态

启动器将游戏状态分为两种：

- **游戏内**  
  当 Minecraft 捕获鼠标（例如用于控制视角）时，启动器判定为 `游戏内` 状态。
- **菜单内**（也被称游戏外）  
  当 Minecraft 未捕获鼠标（例如打开 GUI 界面时），启动器判定为 `菜单内` 状态。

通过区分这两种状态，控制布局可以自动显示或隐藏控件层或控件，从而在游戏内与菜单内实现不同的按键操作方案。